{{ $item := .item }}
{{ $link := $item.RelPermalink }}
{{ $target := "" }}
{{ if $item.Params.external_link }}
  {{ $link = $item.Params.external_link }}
  {{ $target = "target=\"_blank\" rel=\"noopener\"" }}
{{ end }}

<li style="margin-bottom:1.2em; line-height:1.6;">
  {{/* 저자 영문명 출력 로직 */}}
  {{ with $item.Params.authors }}
    {{ range $idx, $author_slug_from_post := . }} {{/* 변수 이름 명확화 */}}
      {{ if $idx }}, {{ end }}
      
      {{ $author_slug_normalized := $author_slug_from_post | urlize }} {{/* 확실히 urlize된 슬러그 */}}
      {{ $author_page := site.GetPage (printf "authors/%s" $author_slug_normalized) }}
      
      {{ warnf "디버그: 원본 authors 값: '%s', URLize된 슬러그: '%s', 저자 페이지 찾음 여부: %t" $author_slug_from_post $author_slug_normalized ($author_page != nil) }} {{/* **이 디버그 라인을 꼭 확인하세요!** */}}
      
      {{ if $author_page }}
        {{ with $author_page.Params.name_en }}
          {{ . }}
        {{ else }}
          {{ warnf "디버그: 저자 페이지 '%s'를 찾았으나 name_en 필드가 없거나 비어있음. name_ko 시도." $author_slug_normalized }}
          {{ $author_page.Params.name_ko | default $author_slug_from_post }} {{/* name_en이 없으면 name_ko, 그것도 없으면 원본 슬러그 */}}
        {{ end }}
      {{ else }}
        {{ warnf "디버그: 저자 페이지 'authors/%s'를 찾을 수 없음. 원본 값 출력." $author_slug_normalized }}
        {{ $author_slug_from_post }} {{/* 저자 페이지를 찾을 수 없으면 원본 값 (아마 한글) 출력 */}}
      {{ end }}
    {{ end }}.
  {{ end }}
  <b>
    {{ if $link }}
      <a href="{{$link}}" {{ $target | safeHTMLAttr }}>{{ $item.Title }}</a>
    {{ else }}
      {{ $item.Title }}
    {{ end }}
  </b>.
  {{ with $item.Params.publication }}
    <i>{{ . }}</i>,
  {{ end }}
  {{ with $item.Params.date }}
    {{ (time .).Year }}.
  {{ end }}
  {{ if $item.Params.url_pdf }}
    <a href="{{ $item.Params.url_pdf }}" target="_blank">[PDF]</a>
  {{ end }}
</li>