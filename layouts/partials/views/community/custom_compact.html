{{ $item := .item }}
{{ $link := $item.RelPermalink }}
{{ $target := "" }}
{{ if $item.Params.external_link }}
  {{ $link = $item.Params.external_link }}
  {{ $target = "target=\"_blank\" rel=\"noopener\"" }}
{{ end }}

<li style="margin-bottom:1.2em; line-height:1.6;">
  {{ with $item.Params.authors }}
    {{ range $idx, $author := . }}
      {{ $authorDisplay := $author }}
      {{ $isCorresponding := false }}

      {{/* 교신저자 표시 로직 */}}
      {{ if strings.HasSuffix $author "*" }}
        {{ $authorDisplay = strings.TrimSuffix $author "*" }}
        {{ $isCorresponding = true }}
      {{ end }}

      {{ $authorPage := site.GetPage (printf "authors/%s" (urlize $authorDisplay)) }}
      {{ if $authorPage }}
        <a href="{{ $authorPage.RelPermalink }}" style="color: black;">{{ $authorDisplay }}</a>{{ if $isCorresponding }}$^*${{ end }}
      {{ else }}
        {{ $authorDisplay }}{{ if $isCorresponding }}$^*${{ end }}
      {{ end }}

      {{/* and와 , 로직 개선 */}}
      {{ if lt (add $idx 1) (len $) }} {{/* 현재 저자가 마지막 저자가 아닐 경우에만 쉼표 또는 'and' 추가 로직 실행 */}}
        {{ if eq (add $idx 2) (len $) }}
          and 
        {{ else }}
          , 
        {{ end }}
      {{ end }}
    {{ end }}
    . {{/* 저자 목록 끝에 마침표를 찍음 (전체 인용문의 시작) */}}
  {{ end }}
  "<b>
    {{ if $link }}
      <a href="{{$link}}" {{ $target | safeHTMLAttr }} style="color: black;">{{ $item.Title }}</a>
    {{ else }}
      {{ $item.Title }}
    {{ end }}
  </b>,"
  {{ with $item.Params.publication }}
    <i>{{ . }}</i>,
  {{ end }}
  {{ with $item.Params.date }}
    {{ if $item.Params.volume }}
      vol. {{ $item.Params.volume }},
    {{ end }}
    {{ if $item.Params.issue }}
      no. {{ $item.Params.issue }},
    {{ end }}
    {{ if $item.Params.pages }}
      pp. {{ $item.Params.pages }},
    {{ end }}
    {{ (time .).Format "Jan." }} {{ (time .).Year }}.
  {{ end }}
  {{ if $item.Params.url_pdf }}
    <a href="{{ $item.Params.url_pdf }}" target="_blank" style="color: black;">[PDF]</a>
  {{ end }}
</li>