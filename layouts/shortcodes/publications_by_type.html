<script>
  document.addEventListener('DOMContentLoaded', function() {
    var pubs = document.getElementById('container-publications');
    if (pubs) {
      pubs.style.height = '0';
      pubs.style.display = 'none';
    }
    var pub = document.getElementById('publication-ref-mode');
    if (pub) {
      pub.classList.add('visible-by-opacity');
      pub.classList.remove('hidden-by-opacity');
    }
  });
</script>

<style>
  .universal-wrapper {
    max-width: 1480px !important;
    width: min(98vw, 1480px) !important;
  }
  .pub-page-shell {
    display: grid;
    gap: 1rem;
  }
  .pub-section {
    border: 1px solid rgba(163, 180, 216, 0.58);
    border-radius: 20px;
    background: linear-gradient(165deg, #ffffff 0%, #f7faff 100%);
    box-shadow: 0 14px 32px rgba(30, 44, 84, 0.08);
    padding: 0.9rem 1rem 0.95rem;
  }
  .pub-wrap,
  .pub-wrap p,
  .pub-wrap li {
    color: #24354d;
  }
  .pub-section-head {
    display: flex;
    justify-content: space-between;
    align-items: baseline;
    gap: 0.5rem;
    border-bottom: 1px solid rgba(140, 160, 198, 0.28);
    padding-bottom: 0.45rem;
    margin-bottom: 0.3rem;
  }
  .pub-section-head h3 {
    margin: 0;
    font-size: 1rem;
    font-weight: 800;
    letter-spacing: -0.01em;
    color: #223651;
  }
  .pub-section-head span {
    font-size: 0.7rem;
    color: #4b617f;
    font-weight: 600;
  }
  .pub-wrap{ width:100%; }
  .pub-head{
    display:grid;
    grid-template-columns: 80px 1fr 1fr;
    column-gap: 0.75rem;
    align-items:end;
    padding: 0.4rem 0 0.85rem;
  }
  .pub-head .col-title{
    font-weight: 800;
    font-size: 0.94rem;
    text-align:center;
    color: #243a59;
    border: 1px solid rgba(169, 186, 219, 0.45);
    background: rgba(245, 249, 255, 0.92);
    border-radius: 999px;
    padding: 0.24rem 0.45rem;
  }
  .pub-row{
    display:grid;
    grid-template-columns: 80px 1fr 1fr;
    column-gap: 0.75rem;
    align-items:start;
    padding: 0.95rem 0;
  }
  .pub-year{
    display: inline-flex;
    justify-content: center;
    font-weight: 800;
    font-size: 0.92rem;
    line-height: 1;
    padding: 0.26rem 0.38rem;
    border-radius: 10px;
    border: 1px solid rgba(167, 185, 216, 0.55);
    color: #2d4768;
    background: rgba(244, 248, 255, 0.95);
  }
  .pub-list{
    margin: 0;
    list-style: none;
    padding-left: 0;
  }
  .pub-item{
    margin-bottom: 0.78rem;
    line-height: 1.4;
    font-size: 0.77rem;
    padding: 0.82rem 0.76rem;
    border: 1px solid rgba(180, 193, 220, 0.45);
    border-left: 3px solid #98b2df;
    border-radius: 11px;
    background: #ffffff;
    box-shadow: 0 6px 16px rgba(23, 40, 78, 0.05);
  }
  .pub-item-meta-row{
    margin-top: 0.36rem;
    display: flex;
    align-items: center;
    justify-content: flex-end;
    gap: 0.3rem;
    min-width: 0;
  }
  .pub-item-meta-row .venue-badge{
    display: inline-flex;
    align-items: center;
    border: 1px solid #c3d0e5;
    border-radius: 999px;
    background: #f3f7ff;
    color: #2c4363;
    font-size: 0.62rem;
    font-weight: 800;
    line-height: 1;
    padding: 0.16rem 0.46rem;
    letter-spacing: 0.01em;
    white-space: nowrap;
  }
  .journal-meta{
    display: inline-flex;
    align-items: center;
    font-size: 0.62rem;
    font-weight: 800;
    color: #314a6c;
    background: #eef3fb;
    border: 1px solid #c3d0e5;
    border-radius: 999px;
    padding: 0.14rem 0.48rem;
    white-space: nowrap;
  }
  .pub-sep{
    border: none;
    border-top: 1px dashed rgba(121, 141, 180, 0.44);
    margin: 0.56rem 0;
  }
  .pub-item a {
    color: #2b4467 !important;
    text-decoration: none;
    font-weight: 700;
  }
  .pub-item .venue-short {
    display: inline-block;
    font-weight: 800;
    letter-spacing: 0.01em;
    color: #1f3451;
  }
  .pub-item a:hover {
    text-decoration: underline;
  }
  @media (max-width: 900px){
    .universal-wrapper {
      width: min(96vw, 900px) !important;
    }
    .pub-section {
      border-radius: 15px;
      padding: 0.7rem 0.65rem 0.72rem;
    }
    .pub-section-head h3 {
      font-size: 0.88rem;
    }
    .pub-section-head span {
      font-size: 0.62rem;
    }
    .pub-head{ display:none; }
    .pub-row{
      grid-template-columns: 1fr;
      row-gap: 0.62rem;
      padding: 0.72rem 0;
    }
    .pub-item {
      font-size: 0.76rem;
      line-height: 1.64;
      padding: 0.56rem 0.52rem;
      margin-bottom: 0.6rem;
      border-radius: 10px;
    }
    .pub-year{
      width: fit-content;
      font-size: 0.85rem;
      padding: 0.18rem 0.38rem;
    }
    .pub-item-meta-row .venue-badge,
    .journal-meta {
      font-size: 0.56rem;
    }
  }
</style>

<div id="publication-ref-mode" class="visible-by-opacity">
  <div class="pub-page-shell">
    <section class="pub-section">
      <div class="pub-section-head">
        <h3>Reference List: Top CS/AI Conference & Journal</h3>
        
      </div>
      <div class="pub-wrap">

  {{/* ===== 타입 정의: 왼쪽(Conference) / 오른쪽(Journal) ===== */}}
  <!-- {{ $leftTypes := slice "paper-csai" "paper-conference" }} -->
  {{ $leftTypes := slice "paper-csai" }}
  {{ $rightTypes := slice "article-journal" }}

  {{/* ===== 전체 publication 페이지 ===== */}}
  {{ $allItems := where site.RegularPages "Section" "publication" }}
  {{ $allItems = $allItems.ByDate.Reverse }}

  {{/* ===== 헤더(연도 + 2컬럼 타이틀) ===== */}}
  <div class="pub-head">
    <div></div>
    <div class="col-title">Top CS/AI Conference</div>
    <div class="col-title">Journal</div>
  </div>

  {{/* ===== 연도 기준으로 “한 번만” 그룹핑 ===== */}}
  {{ range $group := $allItems.GroupByDate "2006" }}
    {{ $yearPages := $group.Pages }}

    {{ $leftItems := where $yearPages "Params.publication_types" "intersect" $leftTypes }}
    {{ $rightItems := where $yearPages "Params.publication_types" "intersect" $rightTypes }}

    {{/* 연도에 양쪽 다 아무것도 없으면 스킵 */}}
    {{ if or (gt (len $leftItems) 0) (gt (len $rightItems) 0) }}

      <div class="pub-row">
        <div class="pub-year">{{ $group.Key }}</div>

        {{/* ========== LEFT: Conference (paper-csai + paper-conference) ========== */}}
        <div>
          <ol class="pub-list">
            {{ range $itemIndex, $item := $leftItems }}
              <li class="pub-item">

                {{/* ===== 별표/번호 로직 ===== */}}
                {{ $showAsterisk := false }}
                {{ with $item.Params.authors }}
                  {{ if gt (len .) 0 }}

                    {{/* 1. 첫 저자인 경우 */}}
                    {{ if eq (index . 0) "Kyungsu Lee" }}
                      {{ $showAsterisk = true }}
                    {{ end }}

                    {{/* 2. Equal contribution 또는 Corresponding author인 경우 */}}
                    {{ range $idx, $auth := . }}
                      {{ if eq $auth "Kyungsu Lee" }}
                        {{ if and ($item.Params.author_notes) (lt $idx (len $item.Params.author_notes)) }}
                          {{ $note := index $item.Params.author_notes $idx }}
                          {{ if or (eq $note "Equal contribution") (eq $note "Corresponding author") }}
                            {{ $showAsterisk = true }}
                          {{ end }}
                        {{ end }}
                      {{ end }}
                    {{ end }}

                  {{ end }}
                {{ end }}


                {{ if $showAsterisk }}<b title="Main Author">*{{ add $itemIndex 1 }}.</b>&nbsp;
                {{ else }}<b>{{ add $itemIndex 1 }}.</b>&nbsp;
                {{ end }}

                {{/* ===== 저자 출력 ===== */}}
                {{ with $item.Params.authors }}
                  {{ $totalAuthors := len . }}
                  {{ range $index, $author := . }}
                    {{ $author_profile := site.GetPage (printf "authors/%s" (urlize $author)) }}

                    {{ $displayedAuthor := $author }}
                    {{ if eq $author "Kyungsu Lee" }}
                      {{ $displayedAuthor = printf "<b>%s</b>" $author }}
                    {{ end }}

                    {{ if $author_profile }}
                      <a href="{{ $author_profile.Permalink }}" style="color:black;">{{ $displayedAuthor | safeHTML }}</a>
                    {{ else }}
                      {{ $displayedAuthor | safeHTML }}
                    {{ end }}

                    {{ if and ($item.Params.author_notes) (lt $index (len $item.Params.author_notes)) }}
                      {{ if eq (index $item.Params.author_notes $index) "Equal contribution" }}<sup title="Equal contribution">†</sup>{{ end }}
                      {{ if eq (index $item.Params.author_notes $index) "Corresponding author" }}<sup title="Corresponding author">*</sup>{{ end }}
                    {{ end }}

                    {{ if ne $index (sub $totalAuthors 1) }}
                      {{ if eq (add $index 1) (sub $totalAuthors 1) }}
                        , and&nbsp;
                      {{ else }}
                        ,&nbsp;
                      {{ end }}
                    {{ end }}
                  {{ end }}.
                {{ end }}

                {{/* ===== 제목 링크 ===== */}}
                <b>
                  {{ $link := $item.RelPermalink }}
                  {{ $target := "" }}
                  {{ if $item.Params.external_link }}
                    {{ $link = $item.Params.external_link }}
                    {{ $target = "target=\"_blank\" rel=\"noopener\"" }}
                  {{ end }}

                  {{ if $link }}
                    <a href="{{ $link }}" {{ $target | safeHTMLAttr }} style="color:black;">"{{ $item.Title }}"</a>
                  {{ else }}
                    "{{ $item.Title }}"
                  {{ end }}
                </b>

                {{/* ===== Conference 출력 형식: csai면 (short) 스타일, 아니면 기본 컨퍼런스 ===== */}}
                {{ $isCsai := false }}
                {{ if $item.Params.publication_types }}
                  {{ if (in $item.Params.publication_types "paper-csai") }}
                    {{ $isCsai = true }}
                  {{ end }}
                {{ end }}

                {{ if $isCsai }}
                  , {{ with $item.Params.publication }}
                    <i>{{ . }}</i>
                    {{ if $item.Params.publication_short }}
                      (<span class="venue-short">{{ $item.Params.publication_short }}</span>)
                    {{ end }}
                  {{ end }}
                {{ else }}
                  , {{ with $item.Params.publication }}
                    <i>{{ . }}</i>,
                  {{ end }}
                  {{ with $item.Params.date }}
                    ({{ (time .).Year }})
                  {{ end }}
                {{ end }}

                
                {{ if $item.Params.url_pdf }}
                  <a href="{{ $item.Params.url_pdf }}" target="_blank" style="color:black;">[PDF]</a>
                {{ end }}
                {{ with $item.Params.publication_short }}
                  <div class="pub-item-meta-row">
                    <span class="venue-badge">{{ . }}</span>
                  </div>
                {{ end }}
              </li>
            {{ end }}
          </ol>
        </div>

        {{/* ========== RIGHT: Journal (article-journal only) ========== */}}
        <div>
          <ol class="pub-list">
            {{ range $itemIndex, $item := $rightItems }}
              <li class="pub-item">

                {{/* ===== 별표/번호 로직 ===== */}}
                {{ $showAsterisk := false }}
                {{ with $item.Params.authors }}
                  {{ if gt (len .) 0 }}
                    {{ if eq (index . 0) "Kyungsu Lee" }}
                      {{ $showAsterisk = true }}
                    {{ end }}
                    {{ range $idx, $auth := . }}
                      {{ if eq $auth "Kyungsu Lee" }}
                        {{ if and ($item.Params.author_notes) (lt $idx (len $item.Params.author_notes)) }}
                          {{ if eq (index $item.Params.author_notes $idx) "Equal contribution" }}
                            {{ $showAsterisk = true }}
                          {{ end }}
                        {{ end }}
                      {{ end }}
                    {{ end }}
                  {{ end }}
                {{ end }}

                {{ if $showAsterisk }}<b title="Main Author">*{{ add $itemIndex 1 }}.</b>&nbsp;
                {{ else }}<b>{{ add $itemIndex 1 }}.</b>&nbsp;
                {{ end }}

                {{/* ===== 저자 출력 ===== */}}
                {{ with $item.Params.authors }}
                  {{ $totalAuthors := len . }}
                  {{ range $index, $author := . }}
                    {{ $author_profile := site.GetPage (printf "authors/%s" (urlize $author)) }}

                    {{ $displayedAuthor := $author }}
                    {{ if eq $author "Kyungsu Lee" }}
                      {{ $displayedAuthor = printf "<b>%s</b>" $author }}
                    {{ end }}

                    {{ if $author_profile }}
                      <a href="{{ $author_profile.Permalink }}" style="color:black;">{{ $displayedAuthor | safeHTML }}</a>
                    {{ else }}
                      {{ $displayedAuthor | safeHTML }}
                    {{ end }}

                    {{ if and ($item.Params.author_notes) (lt $index (len $item.Params.author_notes)) }}
                      {{ if eq (index $item.Params.author_notes $index) "Equal contribution" }}<sup title="Equal contribution">†</sup>{{ end }}
                      {{ if eq (index $item.Params.author_notes $index) "Corresponding author" }}<sup title="Corresponding author">*</sup>{{ end }}
                    {{ end }}

                    {{ if ne $index (sub $totalAuthors 1) }}
                      {{ if eq (add $index 1) (sub $totalAuthors 1) }}
                        , and&nbsp;
                      {{ else }}
                        ,&nbsp;
                      {{ end }}
                    {{ end }}
                  {{ end }}.
                {{ end }}

                {{/* ===== 제목 링크 ===== */}}
                <b>
                  {{ $link := $item.RelPermalink }}
                  {{ $target := "" }}
                  {{ if $item.Params.external_link }}
                    {{ $link = $item.Params.external_link }}
                    {{ $target = "target=\"_blank\" rel=\"noopener\"" }}
                  {{ end }}

                  {{ if $link }}
                    <a href="{{ $link }}" {{ $target | safeHTMLAttr }} style="color:black;">"{{ $item.Title }}"</a>
                  {{ else }}
                    "{{ $item.Title }}"
                  {{ end }}
                </b>

                {{/* ===== Journal 출력 형식 (원래 article-journal 블록 유지) ===== */}}
                , {{ with $item.Params.publication }}
                  <i>{{ . }}</i>,
                {{ end }}
                {{ with $item.Params.publication_short }}
                  <span class="venue-short">{{ . }}</span>,
                {{ end }}
                {{ with $item.Params.date }}
                  {{ (time .).Year }}
                {{ end }}

                {{ $journalType := $item.Params.journal_type }}
                {{ $journalIF := $item.Params.impact_factor }}
                {{ $journalRank := $item.Params.jcr_rank }}
                {{ $journalQuartile := $item.Params.jcr_percentile }}
                {{ if or ($item.Params.publication_short) $journalType $journalIF $journalRank $journalQuartile }}
                  <div class="pub-item-meta-row">
                    {{ with $item.Params.publication_short }}
                      <span class="venue-badge">{{ . }}</span>
                    {{ end }}
                    {{ with $journalType }}<span class="journal-meta">{{ . }}</span>{{ end }}
                    {{ with $journalIF }}<span class="journal-meta">IF={{ . }}</span>{{ end }}
                    {{ with $journalRank }}<span class="journal-meta">{{ . }}</span>{{ end }}
                    {{ with $journalQuartile }}<span class="journal-meta">{{ . }}</span>{{ end }}
                  </div>
                {{ end }}
                {{ if $item.Params.url_pdf }}
                  <a href="{{ $item.Params.url_pdf }}" target="_blank" style="color:black;">[PDF]</a>
                {{ end }}
              </li>
            {{ end }}
          </ol>
        </div>

      </div>

      <hr class="pub-sep">

    {{ end }}
  {{ end }}

      </div>
    </section>

    <section class="pub-section">
      <div class="pub-section-head">
        <h3>Reference List: Conference Proceedings</h3>
        <span>International / Domestic split</span>
      </div>
      <div class="pub-wrap">

  {{/* ===== 타입 정의: 왼쪽(Conference) / 오른쪽(Journal) ===== */}}
  <!-- {{ $leftTypes := slice "paper-csai" "paper-conference" }} -->
  {{ $leftTypes := slice "conference-international" }}
  {{ $rightTypes := slice "conference-domestic" }}

  {{/* ===== 전체 publication 페이지 ===== */}}
  {{ $allItems := where site.RegularPages "Section" "publication" }}
  {{ $allItems = $allItems.ByDate.Reverse }}

  {{/* ===== 헤더(연도 + 2컬럼 타이틀) ===== */}}
  <div class="pub-head">
    <div></div>
    <div class="col-title">Conference Proceedings (International)</div>
    <div class="col-title">Conference Proceedings (Domestic)</div>
  </div>

  {{/* ===== 연도 기준으로 “한 번만” 그룹핑 ===== */}}
  {{ range $group := $allItems.GroupByDate "2006" }}
    {{ $yearPages := $group.Pages }}

    {{ $leftItems := where $yearPages "Params.publication_types" "intersect" $leftTypes }}
    {{ $rightItems := where $yearPages "Params.publication_types" "intersect" $rightTypes }}

    {{/* 연도에 양쪽 다 아무것도 없으면 스킵 */}}
    {{ if or (gt (len $leftItems) 0) (gt (len $rightItems) 0) }}

      <div class="pub-row">
        <div class="pub-year">{{ $group.Key }}</div>

        {{/* ========== LEFT: Conference (paper-csai + paper-conference) ========== */}}
        <div>
          <ol class="pub-list">
            {{ range $itemIndex, $item := $leftItems }}
              <li class="pub-item">

                {{/* ===== 별표/번호 로직 ===== */}}
                {{ $showAsterisk := false }}
                {{ with $item.Params.authors }}
                  {{ if gt (len .) 0 }}

                    {{/* 1. 첫 저자인 경우 */}}
                    {{ if eq (index . 0) "Kyungsu Lee" }}
                      {{ $showAsterisk = true }}
                    {{ end }}

                    {{/* 2. Equal contribution 또는 Corresponding author인 경우 */}}
                    {{ range $idx, $auth := . }}
                      {{ if eq $auth "Kyungsu Lee" }}
                        {{ if and ($item.Params.author_notes) (lt $idx (len $item.Params.author_notes)) }}
                          {{ $note := index $item.Params.author_notes $idx }}
                          {{ if or (eq $note "Equal contribution") (eq $note "Corresponding author") }}
                            {{ $showAsterisk = true }}
                          {{ end }}
                        {{ end }}
                      {{ end }}
                    {{ end }}

                  {{ end }}
                {{ end }}


                {{ if $showAsterisk }}<b title="Main Author">*{{ add $itemIndex 1 }}.</b>&nbsp;
                {{ else }}<b>{{ add $itemIndex 1 }}.</b>&nbsp;
                {{ end }}

                {{/* ===== 저자 출력 ===== */}}
                {{ with $item.Params.authors }}
                  {{ $totalAuthors := len . }}
                  {{ range $index, $author := . }}
                    {{ $author_profile := site.GetPage (printf "authors/%s" (urlize $author)) }}

                    {{ $displayedAuthor := $author }}
                    {{ if eq $author "Kyungsu Lee" }}
                      {{ $displayedAuthor = printf "<b>%s</b>" $author }}
                    {{ end }}

                    {{ if $author_profile }}
                      <a href="{{ $author_profile.Permalink }}" style="color:black;">{{ $displayedAuthor | safeHTML }}</a>
                    {{ else }}
                      {{ $displayedAuthor | safeHTML }}
                    {{ end }}

                    {{ if and ($item.Params.author_notes) (lt $index (len $item.Params.author_notes)) }}
                      {{ if eq (index $item.Params.author_notes $index) "Equal contribution" }}<sup title="Equal contribution">†</sup>{{ end }}
                      {{ if eq (index $item.Params.author_notes $index) "Corresponding author" }}<sup title="Corresponding author">*</sup>{{ end }}
                    {{ end }}

                    {{ if ne $index (sub $totalAuthors 1) }}
                      {{ if eq (add $index 1) (sub $totalAuthors 1) }}
                        , and&nbsp;
                      {{ else }}
                        ,&nbsp;
                      {{ end }}
                    {{ end }}
                  {{ end }}.
                {{ end }}

                {{/* ===== 제목 링크 ===== */}}
                <b>
                  {{ $link := $item.RelPermalink }}
                  {{ $target := "" }}
                  {{ if $item.Params.external_link }}
                    {{ $link = $item.Params.external_link }}
                    {{ $target = "target=\"_blank\" rel=\"noopener\"" }}
                  {{ end }}

                  {{ if $link }}
                    <a href="{{ $link }}" {{ $target | safeHTMLAttr }} style="color:black;">"{{ $item.Title }}"</a>
                  {{ else }}
                    "{{ $item.Title }}"
                  {{ end }}
                </b>

                {{/* ===== Conference 출력 형식: csai면 (short) 스타일, 아니면 기본 컨퍼런스 ===== */}}
                {{ $isCsai := false }}
                {{ if $item.Params.publication_types }}
                  {{ if (in $item.Params.publication_types "paper-csai") }}
                    {{ $isCsai = true }}
                  {{ end }}
                {{ end }}

                {{ if $isCsai }}
                  , {{ with $item.Params.publication }}
                    <i>{{ . }}</i>
                    {{ if $item.Params.publication_short }}
                      (<span class="venue-short">{{ $item.Params.publication_short }}</span>)
                    {{ end }}
                  {{ end }}
                {{ else }}
                  , {{ with $item.Params.publication }}
                    <i>{{ . }}</i>,
                  {{ end }}
                  {{ with $item.Params.date }}
                    ({{ (time .).Year }})
                  {{ end }}
                {{ end }}

                .
                {{ if $item.Params.url_pdf }}
                  <a href="{{ $item.Params.url_pdf }}" target="_blank" style="color:black;">[PDF]</a>
                {{ end }}
                {{ with $item.Params.publication_short }}
                  <div class="pub-item-meta-row">
                    <span class="venue-badge">{{ . }}</span>
                  </div>
                {{ end }}
              </li>
            {{ end }}
          </ol>
        </div>

        {{/* ========== RIGHT: Journal (article-journal only) ========== */}}
        <div>
          <ol class="pub-list">
            {{ range $itemIndex, $item := $rightItems }}
              <li class="pub-item">

                {{/* ===== 별표/번호 로직 ===== */}}
                {{ $showAsterisk := false }}
                {{ with $item.Params.authors }}
                  {{ if gt (len .) 0 }}
                    {{ if eq (index . 0) "Kyungsu Lee" }}
                      {{ $showAsterisk = true }}
                    {{ end }}
                    {{ range $idx, $auth := . }}
                      {{ if eq $auth "Kyungsu Lee" }}
                        {{ if and ($item.Params.author_notes) (lt $idx (len $item.Params.author_notes)) }}
                          {{ if eq (index $item.Params.author_notes $idx) "Equal contribution" }}
                            {{ $showAsterisk = true }}
                          {{ end }}
                        {{ end }}
                      {{ end }}
                    {{ end }}
                  {{ end }}
                {{ end }}

                {{ if $showAsterisk }}<b title="Main Author">*{{ add $itemIndex 1 }}.</b>&nbsp;
                {{ else }}<b>{{ add $itemIndex 1 }}.</b>&nbsp;
                {{ end }}

                {{/* ===== 저자 출력 ===== */}}
                {{ with $item.Params.authors }}
                  {{ $totalAuthors := len . }}
                  {{ range $index, $author := . }}
                    {{ $author_profile := site.GetPage (printf "authors/%s" (urlize $author)) }}

                    {{ $displayedAuthor := $author }}
                    {{ if eq $author "Kyungsu Lee" }}
                      {{ $displayedAuthor = printf "<b>%s</b>" $author }}
                    {{ end }}

                    {{ if $author_profile }}
                      <a href="{{ $author_profile.Permalink }}" style="color:black;">{{ $displayedAuthor | safeHTML }}</a>
                    {{ else }}
                      {{ $displayedAuthor | safeHTML }}
                    {{ end }}

                    {{ if and ($item.Params.author_notes) (lt $index (len $item.Params.author_notes)) }}
                      {{ if eq (index $item.Params.author_notes $index) "Equal contribution" }}<sup title="Equal contribution">†</sup>{{ end }}
                      {{ if eq (index $item.Params.author_notes $index) "Corresponding author" }}<sup title="Corresponding author">*</sup>{{ end }}
                    {{ end }}

                    {{ if ne $index (sub $totalAuthors 1) }}
                      {{ if eq (add $index 1) (sub $totalAuthors 1) }}
                        , and&nbsp;
                      {{ else }}
                        ,&nbsp;
                      {{ end }}
                    {{ end }}
                  {{ end }}.
                {{ end }}

                {{/* ===== 제목 링크 ===== */}}
                <b>
                  {{ $link := $item.RelPermalink }}
                  {{ $target := "" }}
                  {{ if $item.Params.external_link }}
                    {{ $link = $item.Params.external_link }}
                    {{ $target = "target=\"_blank\" rel=\"noopener\"" }}
                  {{ end }}

                  {{ if $link }}
                    <a href="{{ $link }}" {{ $target | safeHTMLAttr }} style="color:black;">"{{ $item.Title }}"</a>
                  {{ else }}
                    "{{ $item.Title }}"
                  {{ end }}
                </b>

                {{/* ===== Journal 출력 형식 (원래 article-journal 블록 유지) ===== */}}
                , {{ with $item.Params.publication }}
                  <i>{{ . }}</i>,
                {{ end }}
                {{ with $item.Params.publication_short }}
                  <span class="venue-short">{{ . }}</span>,
                {{ end }}
                {{ with $item.Params.date }}
                  {{ (time .).Year }}
                {{ end }}

                {{ $journalType := $item.Params.journal_type }}
                {{ $journalIF := $item.Params.impact_factor }}
                {{ $journalRank := $item.Params.jcr_rank }}
                {{ $journalQuartile := $item.Params.jcr_percentile }}
                {{ if or ($item.Params.publication_short) $journalType $journalIF $journalRank $journalQuartile }}
                  <div class="pub-item-meta-row">
                    {{ with $item.Params.publication_short }}
                      <span class="venue-badge">{{ . }}</span>
                    {{ end }}
                    {{ with $journalType }}<span class="journal-meta">{{ . }}</span>{{ end }}
                    {{ with $journalIF }}<span class="journal-meta">IF={{ . }}</span>{{ end }}
                    {{ with $journalRank }}<span class="journal-meta">{{ . }}</span>{{ end }}
                    {{ with $journalQuartile }}<span class="journal-meta">{{ . }}</span>{{ end }}
                  </div>
                {{ end }}

                .
                {{ if $item.Params.url_pdf }}
                  <a href="{{ $item.Params.url_pdf }}" target="_blank" style="color:black;">[PDF]</a>
                {{ end }}
              </li>
            {{ end }}
          </ol>
        </div>

      </div>

      <hr class="pub-sep">

    {{ end }}
  {{ end }}


      </div>
    </section>
  </div>
</div>
